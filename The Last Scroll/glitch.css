/* THE LAST SCROLL - Glitch Effects */

/* Text Corruption Animation */
@keyframes textCorrupt {
    0% { transform: translateX(0); }
    10% { transform: translateX(-2px) skewX(-5deg); }
    20% { transform: translateX(2px) skewX(5deg); }
    30% { transform: translateX(-1px) skewX(-2deg); }
    40% { transform: translateX(1px) skewX(2deg); }
    50% { transform: translateX(0) skewX(0deg); }
    60% { transform: translateX(-3px) skewX(-8deg); }
    70% { transform: translateX(3px) skewX(8deg); }
    80% { transform: translateX(-1px) skewX(-3deg); }
    90% { transform: translateX(1px) skewX(3deg); }
    100% { transform: translateX(0); }
}

/* RGB Split Effect */
@keyframes rgbSplit {
    0% {
        text-shadow: 
            2px 0 #ff0000,
            -2px 0 #00ffff;
    }
    25% {
        text-shadow: 
            -2px 0 #ff0000,
            2px 0 #00ffff;
    }
    50% {
        text-shadow: 
            3px 0 #ff0000,
            -3px 0 #00ffff;
    }
    75% {
        text-shadow: 
            -1px 0 #ff0000,
            1px 0 #00ffff;
    }
    100% {
        text-shadow: 
            2px 0 #ff0000,
            -2px 0 #00ffff;
    }
}

/* Static Noise */
@keyframes staticNoise {
    0% { filter: contrast(1) brightness(1); }
    10% { filter: contrast(1.1) brightness(0.9); }
    20% { filter: contrast(0.9) brightness(1.1); }
    30% { filter: contrast(1.2) brightness(0.8); }
    40% { filter: contrast(0.8) brightness(1.2); }
    50% { filter: contrast(1) brightness(1); }
    60% { filter: contrast(1.3) brightness(0.7); }
    70% { filter: contrast(0.7) brightness(1.3); }
    80% { filter: contrast(1.1) brightness(0.9); }
    90% { filter: contrast(0.9) brightness(1.1); }
    100% { filter: contrast(1) brightness(1); }
}

/* Scan Lines */
@keyframes scanlines {
    0% { background-position: 0 0; }
    100% { background-position: 0 50px; }
}

/* Glitch Classes */
.glitch-text {
    animation: textCorrupt 0.5s infinite;
}

.glitch-rgb {
    animation: rgbSplit 0.3s infinite;
    color: transparent;
    background: linear-gradient(45deg, #ff0000, #00ffff, #ffffff);
    background-clip: text;
    -webkit-background-clip: text;
}

.glitch-static {
    animation: staticNoise 0.1s infinite;
}

.glitch-scanlines {
    position: relative;
    overflow: hidden;
}

.glitch-scanlines::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        linear-gradient(transparent 48%, rgba(0, 255, 0, 0.03) 49%, rgba(0, 255, 0, 0.03) 51%, transparent 52%);
    background-size: 100% 4px;
    animation: scanlines 0.1s linear infinite;
    pointer-events: none;
}

/* Corrupted text replacement */
.corrupted-char {
    color: #333;
    animation: textCorrupt 0.2s infinite;
}

/* Memory card glitch states */
.memory-card.glitch-1 {
    animation: textCorrupt 1s infinite;
}

.memory-card.glitch-2 {
    animation: staticNoise 0.5s infinite;
}

.memory-card.glitch-3 {
    animation: rgbSplit 0.3s infinite;
}

.memory-card.glitch-heavy {
    animation: textCorrupt 0.2s infinite, staticNoise 0.1s infinite;
    filter: contrast(1.2) brightness(0.8) hue-rotate(10deg);
}

/* Data loss effect */
@keyframes dataLoss {
    0% { opacity: 1; transform: translateY(0); }
    50% { opacity: 0.3; transform: translateY(-5px); }
    100% { opacity: 0; transform: translateY(-10px); }
}

.data-loss {
    animation: dataLoss 2s ease-out forwards;
}

/* VHS distortion */
@keyframes vhsDistort {
    0% { transform: skewX(0deg); }
    25% { transform: skewX(1deg); }
    50% { transform: skewX(-1deg); }
    75% { transform: skewX(0.5deg); }
    100% { transform: skewX(0deg); }
}

.vhs-distort {
    animation: vhsDistort 0.8s infinite;
}

/* Pixel sorting effect */
@keyframes pixelSort {
    0% { 
        filter: blur(0px); 
        transform: translateX(0); 
    }
    25% { 
        filter: blur(1px); 
        transform: translateX(2px); 
    }
    50% { 
        filter: blur(2px); 
        transform: translateX(-1px); 
    }
    75% { 
        filter: blur(1px); 
        transform: translateX(1px); 
    }
    100% { 
        filter: blur(0px); 
        transform: translateX(0); 
    }
}

.pixel-sort {
    animation: pixelSort 1.5s infinite;
}

/* Critical corruption - final stages */
.critical-corruption {
    animation: 
        textCorrupt 0.1s infinite,
        rgbSplit 0.2s infinite,
        staticNoise 0.05s infinite;
    filter: 
        blur(3px) 
        contrast(1.5) 
        brightness(0.5) 
        grayscale(0.8) 
        hue-rotate(180deg);
}

/* Emergency glitch - when everything is dying */
.emergency-glitch {
    animation: 
        textCorrupt 0.05s infinite,
        rgbSplit 0.1s infinite,
        staticNoise 0.02s infinite,
        vhsDistort 0.3s infinite;
    filter: 
        blur(5px) 
        contrast(2) 
        brightness(0.3) 
        grayscale(1) 
        invert(0.1);
}

/* Death throes - the final moments */
.death-throes {
    animation: dataLoss 3s ease-out forwards;
    filter: 
        blur(10px) 
        contrast(0.1) 
        brightness(0.1) 
        grayscale(1);
}